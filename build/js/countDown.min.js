$((function(){new class{get TIMESTAMP_SECOND(){return 1e3}get TIMESTAMP_MINUTE(){return 60*this.TIMESTAMP_SECOND}get TIMESTAMP_HOUR(){return 60*this.TIMESTAMP_MINUTE}get TIMESTAMP_DAY(){return 24*this.TIMESTAMP_HOUR}get TIMESTAMP_WEEK(){return 7*this.TIMESTAMP_DAY}get TIMESTAMP_YEAR(){return 365*this.TIMESTAMP_DAY}constructor(t){this.options={cont:null,countdown:!0,date:{year:0,month:0,day:0,hour:0,minute:0,second:0},endCallback:null,outputFormat:"year|week|day|hour|minute|second",outputTranslation:{year:"Years",week:"Weeks",day:"Days",hour:"Hours",minute:"Minutes",second:"Seconds"}},this.lastTick=null,this.intervalsBySize=["year","week","day","hour","minute","second"],this.elementClassPrefix="countDown_",this.interval=null,this.digitConts={},this._assignOptions(this.options,t)}start(){let t,e;this._fixCompatibility(),t=this._getDate(this.options.date),e=this._prepareTimeByOutputFormat(t),this._writeData(e),this.lastTick=e,this.options.countdown&&t.getTime()<=Date.now()?"function"==typeof this.options.endCallback&&(this.stop(),this.options.endCallback()):this.interval=setInterval(()=>{this._updateView(this._prepareTimeByOutputFormat(t))},this.TIMESTAMP_SECOND)}stop(){null!==this.interval&&clearInterval(this.interval)}_getDate(t){if("object"==typeof t){if(t instanceof Date)return t;{let e={day:0,month:0,year:0,hour:0,minute:0,second:0};for(let i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(e[i]=t[i]);return new Date(e.year,e.month>0?e.month-1:e.month,e.day,e.hour,e.minute,e.second)}}return"number"==typeof t||"string"==typeof t?new Date(t):new Date}_prepareTimeByOutputFormat(t){let e,i,s={};return e=this.intervalsBySize.filter(t=>-1!==this.options.outputFormat.split("|").indexOf(t)),i=this.options.countdown?t.getTime()-Date.now():Date.now()-t.getTime(),e.forEach(t=>{let e;if(i>0)switch(t){case"year":e=Math.trunc(i/this.TIMESTAMP_YEAR),i-=e*this.TIMESTAMP_YEAR;break;case"week":e=Math.trunc(i/this.TIMESTAMP_WEEK),i-=e*this.TIMESTAMP_WEEK;break;case"day":e=Math.trunc(i/this.TIMESTAMP_DAY),i-=e*this.TIMESTAMP_DAY;break;case"hour":e=Math.trunc(i/this.TIMESTAMP_HOUR),i-=e*this.TIMESTAMP_HOUR;break;case"minute":e=Math.trunc(i/this.TIMESTAMP_MINUTE),i-=e*this.TIMESTAMP_MINUTE;break;case"second":e=Math.trunc(i/this.TIMESTAMP_SECOND),i-=e*this.TIMESTAMP_SECOND}else e="00";s[t]=((""+e).length<2?"0"+e:""+e).split("")}),s}_fixCompatibility(){Math.trunc=Math.trunc||function(t){return isNaN(t)?NaN:t>0?Math.floor(t):Math.ceil(t)}}_writeData(t){let e,i=`<div class="${this.elementClassPrefix}cont">`;for(e in t)if(t.hasOwnProperty(e)){let s=`<div class="${this.elementClassPrefix}_interval_basic_cont">\n                                       <div class="${this._getIntervalContCommonClassName()} ${this._getIntervalContClassName(e)}">`,n=`<div class="${this.elementClassPrefix}interval_basic_cont_description">\n                                                   ${this.options.outputTranslation[e]}\n                                               </div>`;t[e].forEach((t,e)=>{s+=`<div class="${this._getDigitContCommonClassName()} ${this._getDigitContClassName(e)}">\n                                        ${this._getDigitElementString(t,0)}\n                                    </div>`}),i+=s+"</div>"+n+"</div>"}this.options.cont.innerHTML=i+"</div>",this.lastTick=t}_getDigitElementString(t,e){return`<div class="${this.elementClassPrefix}digit_last_placeholder">\n                        <div class="${this.elementClassPrefix}digit_last_placeholder_inner">\n                            ${e}\n                        </div>\n                    </div>\n                    <div class="${this.elementClassPrefix}digit_new_placeholder">${t}</div>\n                    <div class="${this.elementClassPrefix}digit_last_rotate">${e}</div>\n                    <div class="${this.elementClassPrefix}digit_new_rotate">\n                        <div class="${this.elementClassPrefix}digit_new_rotated">\n                            <div class="${this.elementClassPrefix}digit_new_rotated_inner">\n                                ${t}\n                            </div>\n                        </div>\n                    </div>`}_updateView(t){for(let e in t)t.hasOwnProperty(e)&&t[e].forEach((i,s)=>{null!==this.lastTick&&this.lastTick[e][s]!==t[e][s]&&(this._getDigitCont(e,s).innerHTML=this._getDigitElementString(t[e][s],this.lastTick[e][s]))});this.lastTick=t}_getDigitCont(t,e){return this.digitConts[`${t}_${e}`]||(this.digitConts[`${t}_${e}`]=this.options.cont.querySelector(`.${this._getIntervalContClassName(t)} .${this._getDigitContClassName(e)}`)),this.digitConts[`${t}_${e}`]}_getIntervalContClassName(t){return`${this.elementClassPrefix}interval_cont_${t}`}_getIntervalContCommonClassName(){return`${this.elementClassPrefix}interval_cont`}_getDigitContClassName(t){return`${this.elementClassPrefix}digit_cont_${t}`}_getDigitContCommonClassName(){return`${this.elementClassPrefix}digit_cont`}_assignOptions(t,e){for(let i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(null!==t[i]&&"object"==typeof t[i]&&"object"==typeof e[i]?this._assignOptions(t[i],e[i]):t[i]=e[i])}}({cont:document.querySelector(".container"),countdown:!0,date:{day:3,month:4,year:2020,hour:18,minute:0,second:0},outputTranslation:{year:"Years",week:"Weeks",day:"Days",hour:"Hours",minute:"Minutes",second:"Seconds"},outputFormat:"week|day|hour|minute|second"}).start()}));